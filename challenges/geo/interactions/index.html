<!DOCTYPE html>
<html>
  <head>
    <title>Workshop Mapping with D3 - Challenges - D3 Geo - Interactions</title>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
    <meta content='width=device-width, initial-scale=1.0' name='viewport'>
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css" /><link href="https://fonts.googleapis.com/css?family=Lato:100,300,400,700,900,100italic,300italic,400italic,700italic,900italic|Montserrat:400,700" rel="stylesheet" type="text/css" />
    <link href="/mapping_with_d3_foss4g_2017/stylesheets/leadpage.css" rel="stylesheet" type="text/css" /><link href="/mapping_with_d3_foss4g_2017/stylesheets/code.css" rel="stylesheet" type="text/css" />
    <link href='/images/favicon.ico' rel='icon'>
    <script src="//d3js.org/d3.v4.js" type="text/javascript"></script><script src="//code.jquery.com/jquery-2.1.4.min.js" type="text/javascript"></script><script src="/mapping_with_d3_foss4g_2017/javascripts/challenges.js" type="text/javascript"></script><script src="//static.jsbin.com/js/embed.min.js?4.0.4" type="text/javascript"></script>
    <div class='nav fixed'>
      <div class='nav-content'>
        <div class='logo-container'>
          <a href="https://civicvision.de"><img alt="Civic Vision" height="30" class="logo" src="/mapping_with_d3_foss4g_2017/images/logo_white.png" />
          <h4>Open Data Consultancy for social good</h4>
          </a>
        </div>
        <h2>Workshop - Mapping with d3</h2>
        <ul class='nav-small'>
          <li>
            <a href="/mapping_with_d3_foss4g_2017/presentation/">Presentation</a>
          </li>
          <li>
            <a href="/mapping_with_d3_foss4g_2017/challenges/basics/">D3 Basics</a>
          </li>
          <li>
            <a href="/mapping_with_d3_foss4g_2017/challenges/geo/">D3 Mapping</a>
          </li>
        </ul>
      </div>
    </div>
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MTT6KM"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>
      var _dcq = _dcq || [];
      var _dcs = _dcs || {};
      _dcs.account = "4828671";
      (function() {
      	var dc = document.createElement('script');
      	dc.type = 'text/javascript'; dc.async = true;
      	dc.src = "//tag.getdrip.com/4828671.js";
      	var s = document.getElementsByTagName('script')[0];
      	s.parentNode.insertBefore(dc, s);
      })();
      (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer',"GTM-MTT6KM");
    </script>
  </head>
  <div class='login-required'></div>
  <div id='landingpage'>
    <section class='sub-heading'>
      <div class='content-wrapper'>
        <h1>Geo Basics</h1>
        <h2>Interactions</h2>
        <p>Any DOM event type supported by your browser may be used.<br>
        e.g.<br>
        - mouseover<br>
        - mouseout<br>
        - mousemove<br>
        - click<br>
        - doubleclick  </p>
        
        <h3>Usage</h3>
        <pre class="highlight javascript"><code><span class="nx">d3</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s1">'element'</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s1">'mouseover'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="k">this</span><span class="p">;</span> <span class="p">});</span>&#x000A;&#x000A;</code></pre>
        <p>d is the datum associated with the element, i is the index and this is the element itself.<br>
        <em>Tip: use <code>d3.select(this)</code> to change attributes</em></p>
        
        <h3>Tooltips</h3>
        
        <h4>Tips &amp; Tricks</h4>
        
        <p>Add a element to the body and position it absolute
        use d3.event.pageX to use mouseposition to position the element</p>
        <pre class="highlight javascript"><code><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">"mousemove"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">)</span> <span class="p">{</span>&#x000A;  <span class="nx">d3</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s2">"#tooltip"</span><span class="p">).</span><span class="nx">style</span><span class="p">(</span><span class="s2">"left"</span><span class="p">,</span> <span class="p">(</span><span class="nx">d3</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">pageX</span> <span class="o">+</span> <span class="mi">10</span><span class="p">)</span> <span class="o">+</span> <span class="s2">"px"</span><span class="p">)</span>&#x000A;  <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">"top"</span><span class="p">,</span> <span class="p">(</span><span class="nx">d3</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">pageY</span> <span class="o">-</span> <span class="mi">20</span><span class="p">)</span> <span class="o">+</span> <span class="s2">"px"</span><span class="p">)</span>&#x000A;<span class="p">})</span>&#x000A;<span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">"mouseover"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">)</span> <span class="p">{</span>&#x000A;  <span class="nx">d3</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s2">"#tooltip"</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="nx">d</span><span class="p">).</span><span class="nx">style</span><span class="p">(</span><span class="s2">"opacity"</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>&#x000A;<span class="p">});</span>&#x000A;</code></pre>
        <h3>Excercise 1</h3>
        <p>Highlight one area if you hover your mouse over</p>
        <a class='jsbin-embed' href='http://jsbin.com/tevivi/embed?html,js,output'>Challenge</a>
        <a class='show-solution' data-id='solution-0' href='javascript:;'>Show solution</a>
        <div class='solution hidden' id='solution-0'>
          <pre class="highlight javascript"><code><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">'mouseover'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">)</span> <span class="p">{</span>&#x000A;  <span class="nx">d3</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'stroke'</span><span class="p">,</span> <span class="s1">'yellow'</span><span class="p">)</span>&#x000A;<span class="p">}).</span><span class="nx">on</span><span class="p">(</span><span class="s1">'mouseout'</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;  <span class="nx">d3</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'stroke'</span><span class="p">,</span> <span class="s1">''</span><span class="p">)</span>&#x000A;<span class="p">});</span>&#x000A;&#x000A;</code></pre>
        </div>
        <h3>Excercise 2</h3>
        <p>Display information in the <code>info</code> container</p>
        <a class='jsbin-embed' href='http://jsbin.com/vurukik/embed?html,js,output'>Challenge</a>
        <a class='show-solution' data-id='solution-1' href='javascript:;'>Show solution</a>
        <div class='solution hidden' id='solution-1'>
          <pre class="highlight javascript"><code><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">'mouseover'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">)</span> <span class="p">{</span>&#x000A;  <span class="nx">d3</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s1">'#info'</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">properties</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>&#x000A;<span class="p">})</span>&#x000A;&#x000A;</code></pre>
        </div>
        <h3>Excercise 3</h3>
        <p>Add a tooltip to the map, use the <code>#info</code> container.</p>
        <a class='jsbin-embed' href='http://jsbin.com/vurukik/embed?html,js,output'>Challenge</a>
        <a class='show-solution' data-id='solution-2' href='javascript:;'>Show solution</a>
        <div class='solution hidden' id='solution-2'>
          <pre class="highlight javascript"><code><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">"mousemove"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">)</span> <span class="p">{</span>&#x000A;  <span class="nx">d3</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s2">"#info"</span><span class="p">).</span><span class="nx">style</span><span class="p">(</span><span class="s2">"left"</span><span class="p">,</span> <span class="p">(</span><span class="nx">d3</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">pageX</span> <span class="o">+</span> <span class="mi">10</span><span class="p">)</span> <span class="o">+</span> <span class="s2">"px"</span><span class="p">)</span>&#x000A;  <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">"top"</span><span class="p">,</span> <span class="p">(</span><span class="nx">d3</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">pageY</span> <span class="o">-</span> <span class="mi">20</span><span class="p">)</span> <span class="o">+</span> <span class="s2">"px"</span><span class="p">)</span>&#x000A;<span class="p">})</span>&#x000A;<span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">"mouseover"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">)</span> <span class="p">{</span>&#x000A;  <span class="nx">d3</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s2">"#info"</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="nx">d</span><span class="p">).</span><span class="nx">style</span><span class="p">(</span><span class="s2">"opacity"</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>&#x000A;<span class="p">})</span>&#x000A;<span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">"mouseout"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">)</span> <span class="p">{</span>&#x000A;  <span class="nx">d3</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s2">"#info"</span><span class="p">).</span><span class="nx">style</span><span class="p">(</span><span class="s2">"opacity"</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>&#x000A;<span class="p">});</span>&#x000A;&#x000A;</code></pre>
        </div>
        <h3>Excercise 4</h3>
        <p>Add Zoom to an element and zoom to extent</p>
        <a class='show-solution' data-id='solution-3' href='javascript:;'>Show solution</a>
        <div class='solution hidden' id='solution-3'>
          <pre class="highlight javascript"><code>&#x000A;</code></pre>
        </div>
        <a class="cta-btn" href="/mapping_with_d3_foss4g_2017/challenges/geo/examples/">Additional Examples</a>
      </div>
    </section>
  </div>
</html>
